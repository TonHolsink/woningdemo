<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title></title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width">

		<link rel="stylesheet" href="css/styles.css">

		<script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>

		<style type="text/css">
			#treeDiv .form-control{
				font-size: 14px;
				height: 24px;
				padding: 0 6px;
			}
			#treeDiv .form-control.edit-label{
				font-weight: bold;
			}
			#treeDiv .form-control[readonly] {
				cursor: auto;
				background-color: #FFF;
				border-color: #FFF;
				box-shadow: none;
				padding: 0;
			}
			#treeDiv .form-control[readonly] ~ a.input-group-addon {
				display: none;
			}
			#treeDiv .form-group-sm {
				margin-bottom: 1px;
				border-bottom: 1px solid #CCC;
			}
			#treeDiv .edit .form-group-sm {
				border-bottom: 1px solid #FFF;
			}
			#treeDiv .input-group-addon {
				padding: 4px 6px;
			}
			i.tree-item-link {
				padding-top: 2px;
			}
			.has-changed > a i.tree-item-link {
				color: red;
			}
			.toolbar-sm {
				margin-top: 5px;
				margin-bottom: 5px;
			}
			.toolbar-sm .btn{
				padding: 0 12px;
			}
			#treeDiv ul ul{
				margin-top: 5px;
			}
			@media (max-width: 768px) {
				#treeDiv ul ul {
					margin-left: 0px;
				}
			}
			.tbAddData {
				text-align: right;
				display: none;
			}
			@media (min-width: 768px) {
				#treeDiv .detailDiv {
					border-left: 1px solid #337AB7;
					margin-left: -16px;
					padding-left: 16px;
				}
			}
			#treeDiv .addSiblingDiv {
				position: absolute;
				left: -21px;
				top: 19px;
			}

		</style>
	</head>
	<body class="with-navbar-top">
		<!--[if lt IE 7]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->
		<div class="navbar navbar-inverse navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="o-index.html"><img class="logo" src="img/mijnwoonwaard.png" /></a>
				</div> <!-- .navbar-header -->
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
					<li class="active"><a href="o-index.html">Home</a></li>
					<li><a href="#profiel">Mijn Profiel</a></li>
					<li><a href="o-planning.html">Planning</a></li>
					<li><a href="o-dashboard.html">Dashboard</a></li>
					<li><a href="#faq">Faq</a></li>
					</ul>
					<div class="navbar-right status">
						Ingelogd als: Bas de Jong
					</div>
				</div><!-- .navbar-collapse -->
			</div> <!-- .container -->
		</div> <!-- .navbar -->

		<div class="main-intro"> </div>
		<div class="container">
			<div class="main-content">
				<div class="content-area">
					<div id="treeDiv">
						<ul class="tree fa-ul">
							<li class="tree-item">
								<a class="tree-item-link" href="javascript:;"><i class="tree-item-link fa-li fa fa-chevron-circle-right fa-lg"></i><input class="form-control" type="text" value="Begane grond" readonly></a>
								<div class="detailDiv" style="display: none;">
									<div class="addSiblingDiv"><a href="javascript:;" title="Voeg element op hetzelfde niveau toe"><i class="addSibling fa fa-plus-square-o"></i></a></div>
									<div style="text-align: right;">
										<div class="tbEdit toolbar-sm btn-group">
											<button class="editDetails btn btn-default" title="Wijzig"><i class="fa fa-pencil"></i></button>
											<button class="escapeDetails btn btn-default" title="Annuleer" style="display: none;"><i class="fa fa-ban"></i></button>
											<button class="saveDetails btn btn-default" title="Opslaan" style="display: none;"><i class="fa fa-save"></i></button>
											<button class="deleteDetails btn btn-default" title="Verwijder" style="display: none;"><i class="fa fa-trash"></i></button>
										</div>
									</div>
									<h4>Vaste gegevens</h4>
									<div class="form-horizontal form-readonly">
										<div class="form-group form-group-sm">
											<label class="col-sm-3">
												label
											</label>
											<div class="col-sm-9">
												<input class="form-control" type="text" value="value" readonly>
											</div>
										</div>
										<div class="form-group form-group-sm">
											<label class="col-sm-3">
												label
											</label>
											<div class="col-sm-9">
												<input class="form-control" type="text" value="value" readonly>
											</div>
										</div>
									</div>
									<h4>Variabele gegevens</h4>
									<div class="form-horizontal form-readonly">
										<div class="form-group form-group-sm">
											<div class="col-sm-3">
												<input class="form-control edit-label" type="text" value="label" readonly>
											</div>
											<div class="col-sm-9">
												<div class="input-group ">
													<input class="form-control" type="text" value="value" readonly>
													<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
												</div>
											</div>
										</div>
										<div class="form-group form-group-sm">
											<div class="col-sm-3">
												<input class="form-control edit-label" type="text" value="label" readonly>
											</div>
											<div class="col-sm-9">
												<div class="input-group ">
													<input class="form-control" type="text" value="value" readonly>
													<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
												</div>
											</div>
										</div>
									</div>
									<div class="tbAddData">
										<div class="toolbar-sm btn-group">
											<button class="addData btn btn-default" title="Voeg gegeven toe"><i class="fa fa-plus"></i></button>
										</div>
									</div>
									<ul class="tree fa-ul">
										<li class="tree-item">
											<a class="tree-item-link" href="javascript:;"><i class="tree-item-link fa-li fa fa-chevron-circle-right fa-lg"></i><input class="form-control" type="text" value="Hal" readonly></a>
											<div class="detailDiv" style="display: none;">
												<div class="addSiblingDiv"><a href="javascript:;" title="Voeg element op hetzelfde niveau toe"><i class="addSibling fa fa-plus-square-o"></i></a></div>
												<div style="text-align: right;">
													<div class="tbEdit toolbar-sm btn-group">
														<button class="editDetails btn btn-default" title="Wijzig"><i class="fa fa-pencil"></i></button>
														<button class="escapeDetails btn btn-default" title="Annuleer" style="display: none;"><i class="fa fa-ban"></i></button>
														<button class="saveDetails btn btn-default" title="Opslaan" style="display: none;"><i class="fa fa-save"></i></button>
														<button class="deleteDetails btn btn-default" title="Verwijder" style="display: none;"><i class="fa fa-trash"></i></button>
													</div>
												</div>
												<h4>Vaste gegevens</h4>
												<div class="form-horizontal form-readonly">
													<div class="form-group form-group-sm">
														<label class="col-sm-3">
															label
														</label>
														<div class="col-sm-9">
															<input class="form-control" type="text" value="value" readonly>
														</div>
													</div>
													<div class="form-group form-group-sm">
														<label class="col-sm-3">
															label
														</label>
														<div class="col-sm-9">
															<input class="form-control" type="text" value="value" readonly>
														</div>
													</div>
												</div>
												<h4>Variabele gegevens</h4>
												<div class="form-horizontal form-readonly">
													<div class="form-group form-group-sm">
														<div class="col-sm-3">
															<input class="form-control edit-label" type="text" value="label" readonly>
														</div>
														<div class="col-sm-9">
															<div class="input-group ">
																<input class="form-control" type="text" value="value" readonly>
																<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
															</div>
														</div>
													</div>
													<div class="form-group form-group-sm">
														<div class="col-sm-3">
															<input class="form-control edit-label" type="text" value="label" readonly>
														</div>
														<div class="col-sm-9">
															<div class="input-group ">
																<input class="form-control" type="text" value="value" readonly>
																<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
															</div>
														</div>
													</div>
												</div>
												<div class="tbAddData">
													<div class="toolbar-sm btn-group">
														<button class="addData btn btn-default" title="Voeg gegeven toe"><i class="fa fa-plus"></i></button>
													</div>
												</div>
												<ul class="tree fa-ul">
													<li class="tree-item">
														<a class="tree-item-link" href="javascript:;"><i class="tree-item-link fa-li fa fa-chevron-circle-right fa-lg"></i><input class="form-control" type="text" value="Deur" readonly></a>
														<div class="detailDiv" style="display: none;">
															<div class="addSiblingDiv"><a href="javascript:;" title="Voeg element op hetzelfde niveau toe"><i class="addSibling fa fa-plus-square-o"></i></a></div>
															<div style="text-align: right;">
																<div class="tbEdit toolbar-sm btn-group">
																	<button class="editDetails btn btn-default" title="Wijzig"><i class="fa fa-pencil"></i></button>
																	<button class="escapeDetails btn btn-default" title="Annuleer" style="display: none;"><i class="fa fa-ban"></i></button>
																	<button class="saveDetails btn btn-default" title="Opslaan" style="display: none;"><i class="fa fa-save"></i></button>
																	<button class="deleteDetails btn btn-default" title="Verwijder" style="display: none;"><i class="fa fa-trash"></i></button>
																</div>
															</div>
															<h4>Vaste gegevens</h4>
															<div class="form-horizontal form-readonly">
																<div class="form-group form-group-sm">
																	<label class="col-sm-3">
																		label
																	</label>
																	<div class="col-sm-9">
																		<input class="form-control" type="text" value="value" readonly>
																	</div>
																</div>
																<div class="form-group form-group-sm">
																	<label class="col-sm-3">
																		label
																	</label>
																	<div class="col-sm-9">
																		<input class="form-control" type="text" value="value" readonly>
																	</div>
																</div>
															</div>
															<h4>Variabele gegevens</h4>
															<div class="form-horizontal form-readonly">
																<div class="form-group form-group-sm">
																	<div class="col-sm-3">
																		<input class="form-control edit-label" type="text" value="label" readonly>
																	</div>
																	<div class="col-sm-9">
																		<div class="input-group ">
																			<input class="form-control" type="text" value="value" readonly>
																			<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
																		</div>
																	</div>
																</div>
																<div class="form-group form-group-sm">
																	<div class="col-sm-3">
																		<input class="form-control edit-label" type="text" value="label" readonly>
																	</div>
																	<div class="col-sm-9">
																		<div class="input-group ">
																			<input class="form-control" type="text" value="value" readonly>
																			<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
																		</div>
																	</div>
																</div>
															</div>
															<div class="tbAddData">
																<div class="toolbar-sm btn-group">
																	<button class="addData btn btn-default" title="Voeg gegeven toe"><i class="fa fa-plus"></i></button>
																</div>
															</div>
														</div>
													</li>
												</ul>
											</div>
										</li>
									</ul>
								</div>
							</li>
							<li class="tree-item">
								<a class="tree-item-link" href="javascript:;"><i class="tree-item-link fa-li fa fa-chevron-circle-right fa-lg"></i><input class="form-control" type="text" value="1e verdieping" readonly></a>
								<div class="detailDiv" style="display: none;">
									<div class="addSiblingDiv"><a href="javascript:;" title="Voeg element op hetzelfde niveau toe"><i class="addSibling fa fa-plus-square-o"></i></a></div>
									<div style="text-align: right;">
										<div class="tbEdit toolbar-sm btn-group">
											<button class="editDetails btn btn-default" title="Wijzig"><i class="fa fa-pencil"></i></button>
											<button class="escapeDetails btn btn-default" title="Annuleer" style="display: none;"><i class="fa fa-ban"></i></button>
											<button class="saveDetails btn btn-default" title="Opslaan" style="display: none;"><i class="fa fa-save"></i></button>
											<button class="deleteDetails btn btn-default" title="Verwijder" style="display: none;"><i class="fa fa-trash"></i></button>
										</div>
									</div>
									<h4>Vaste gegevens</h4>
									<div class="form-horizontal form-readonly">
										<div class="form-group form-group-sm">
											<label class="col-sm-3">
												label
											</label>
											<div class="col-sm-9">
												<input class="form-control" type="text" value="value" readonly>
											</div>
										</div>
										<div class="form-group form-group-sm">
											<label class="col-sm-3">
												label
											</label>
											<div class="col-sm-9">
												<input class="form-control" type="text" value="value" readonly>
											</div>
										</div>
									</div>
									<h4>Variabele gegevens</h4>
									<div class="form-horizontal form-readonly">
										<div class="form-group form-group-sm">
											<div class="col-sm-3">
												<input class="form-control edit-label" type="text" value="label" readonly>
											</div>
											<div class="col-sm-9">
												<div class="input-group ">
													<input class="form-control" type="text" value="value" readonly>
													<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
												</div>
											</div>
										</div>
										<div class="form-group form-group-sm">
											<div class="col-sm-3">
												<input class="form-control edit-label" type="text" value="label" readonly>
											</div>
											<div class="col-sm-9">
												<div class="input-group ">
													<input class="form-control" type="text" value="value" readonly>
													<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
												</div>
											</div>
										</div>
									</div>
									<div class="tbAddData">
										<div class="toolbar-sm btn-group">
											<button class="addData btn btn-default" title="Voeg gegeven toe"><i class="fa fa-plus"></i></button>
										</div>
									</div>
									<ul class="tree fa-ul">
										<li class="tree-item">
											<a class="tree-item-link" href="javascript:;"><i class="tree-item-link fa-li fa fa-chevron-circle-right fa-lg"></i><input class="form-control" type="text" value="Hal" readonly></a>
											<div class="detailDiv" style="display: none;">
												<div class="addSiblingDiv"><a href="javascript:;" title="Voeg element op hetzelfde niveau toe"><i class="addSibling fa fa-plus-square-o"></i></a></div>
												<div style="text-align: right;">
													<div class="tbEdit toolbar-sm btn-group">
														<button class="editDetails btn btn-default" title="Wijzig"><i class="fa fa-pencil"></i></button>
														<button class="escapeDetails btn btn-default" title="Annuleer" style="display: none;"><i class="fa fa-ban"></i></button>
														<button class="saveDetails btn btn-default" title="Opslaan" style="display: none;"><i class="fa fa-save"></i></button>
														<button class="deleteDetails btn btn-default" title="Verwijder" style="display: none;"><i class="fa fa-trash"></i></button>
													</div>
												</div>
												<h4>Vaste gegevens</h4>
												<div class="form-horizontal form-readonly">
													<div class="form-group form-group-sm">
														<label class="col-sm-3">
															label
														</label>
														<div class="col-sm-9">
															<input class="form-control" type="text" value="value" readonly>
														</div>
													</div>
													<div class="form-group form-group-sm">
														<label class="col-sm-3">
															label
														</label>
														<div class="col-sm-9">
															<input class="form-control" type="text" value="value" readonly>
														</div>
													</div>
												</div>
												<h4>Variabele gegevens</h4>
												<div class="form-horizontal form-readonly">
													<div class="form-group form-group-sm">
														<div class="col-sm-3">
															<input class="form-control edit-label" type="text" value="label" readonly>
														</div>
														<div class="col-sm-9">
															<div class="input-group ">
																<input class="form-control" type="text" value="value" readonly>
																<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
															</div>
														</div>
													</div>
													<div class="form-group form-group-sm">
														<div class="col-sm-3">
															<input class="form-control edit-label" type="text" value="label" readonly>
														</div>
														<div class="col-sm-9">
															<div class="input-group ">
																<input class="form-control" type="text" value="value" readonly>
																<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
															</div>
														</div>
													</div>
												</div>
												<div class="tbAddData">
													<div class="toolbar-sm btn-group">
														<button class="addData btn btn-default" title="Voeg gegeven toe"><i class="fa fa-plus"></i></button>
													</div>
												</div>
												<ul class="tree fa-ul">
													<li class="tree-item">
														<a class="tree-item-link" href="javascript:;"><i class="tree-item-link fa-li fa fa-chevron-circle-right fa-lg"></i><input class="form-control" type="text" value="Deur" readonly></a>
														<div class="detailDiv" style="display: none;">
															<div class="addSiblingDiv"><a href="javascript:;" title="Voeg element op hetzelfde niveau toe"><i class="addSibling fa fa-plus-square-o"></i></a></div>
															<div style="text-align: right;">
																<div class="tbEdit toolbar-sm btn-group">
																	<button class="editDetails btn btn-default" title="Wijzig"><i class="fa fa-pencil"></i></button>
																	<button class="escapeDetails btn btn-default" title="Annuleer" style="display: none;"><i class="fa fa-ban"></i></button>
																	<button class="saveDetails btn btn-default" title="Opslaan" style="display: none;"><i class="fa fa-save"></i></button>
																	<button class="deleteDetails btn btn-default" title="Verwijder" style="display: none;"><i class="fa fa-trash"></i></button>
																</div>
															</div>
															<h4>Vaste gegevens</h4>
															<div class="form-horizontal form-readonly">
																<div class="form-group form-group-sm">
																	<label class="col-sm-3">
																		label
																	</label>
																	<div class="col-sm-9">
																		<input class="form-control" type="text" value="value" readonly>
																	</div>
																</div>
																<div class="form-group form-group-sm">
																	<label class="col-sm-3">
																		label
																	</label>
																	<div class="col-sm-9">
																		<input class="form-control" type="text" value="value" readonly>
																	</div>
																</div>
															</div>
															<h4>Variabele gegevens</h4>
															<div class="form-horizontal form-readonly">
																<div class="form-group form-group-sm">
																	<div class="col-sm-3">
																		<input class="form-control edit-label" type="text" value="label" readonly>
																	</div>
																	<div class="col-sm-9">
																		<div class="input-group ">
																			<input class="form-control" type="text" value="value" readonly>
																			<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
																		</div>
																	</div>
																</div>
																<div class="form-group form-group-sm">
																	<div class="col-sm-3">
																		<input class="form-control edit-label" type="text" value="label" readonly>
																	</div>
																	<div class="col-sm-9">
																		<div class="input-group ">
																			<input class="form-control" type="text" value="value" readonly>
																			<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>
																		</div>
																	</div>
																</div>
															</div>
															<div class="tbAddData">
																<div class="toolbar-sm btn-group">
																	<button class="addData btn btn-default" title="Voeg gegeven toe"><i class="fa fa-plus"></i></button>
																</div>
															</div>
														</div>
													</li>
												</ul>
											</div>
										</li>
									</ul>
								</div>
							</li>
						</ul>
					</div> <!-- treeDiv -->
				</div> <!-- .content-area -->
			</div> <!-- .main-content -->
		</div> <!-- .container -->

		<div class="container">
			<div class="footer">
				<hr>
				<footer>
					<p>&copy; YourRequest 2014</p>
				</footer>
			</div> <!-- footer -->
		</div> <!-- container -->

		<script src="js/vendor/jquery-1.11.0.min.js"></script>
		<script src="js/vendor/bootstrap.min.js"></script>
		<script src="js/vendor/jquery.bpopup.min.js"></script>
		<script src="js/jquery-ext.js"></script>
		<script src="js/vendor/toastr.min.js"></script>
		<script src="js/vendor/bootbox.min.js"></script>

<script type="text/javascript">
//<![CDATA[

(function() {
	var isDirty = false;
	var isEditMode = true;
	var $changedItem;

	//Nodig om de standaard volgorde van de buttons te veranderen
	function confirm(message, cb) {
		bootbox.dialog({
			message: message,
			// title: "Custom title",
			buttons: {
				OK: {
					label: "Ok",
					// className: "btn-default",
					callback: function() {
						cb(true);
					}
				},
				CANCEL: {
					label: "Annuleren",
					// className: "btn-primary",
					callback: function() {
						cb(false);
					}
				}
			}
		});
	}

	function scrollIntoView(el) {
		$('html, body').animate({
			//Beetje gokken (-50 compenseert voor menubar)
			scrollTop: el.offset().top - 70
		}, 1000);
	};

	function hiliteTree($li) {
		$li.addClass('has-changed');
		$li.parents('li').addClass('has-changed');
	}

	function resetItemToNonEditState($li) {
		if (typeof $li !== 'undefined') {
			//Alleen edit knop zichtbaar maken in toolbar
			var $tb = $li.find('.tbEdit').first();
			$tb.children().hide();
			$tb.children('.editDetails').show();
			$tb.children('.addFirstChild').show();
			//inputs readonly maken
			var $forms = $li.children('.detailDiv').children('.form-readonly').removeClass('edit');
			$forms.find('input[type=text]').attr('readonly', '');
			$li.children('a').children('input[type=text]').attr('readonly', '');
			//addData knop verbergen
			$li.find('.tbAddData').first().hide();
			//hiliteTree ongedaan maken
			$('li.has-changed').removeClass('has-changed');
		}
	}

	$(function() {
		$('#treeDiv').on('click', function(event) {
			var $el = $(event.target);
			//tree-item-link
			if ($el.hasClass('tree-item-link')) {
				var $li = $el.closest('li');
				var $detailDiv = $li.children('.detailDiv').toggle();
				//als niveau is opengeklapt en er zijn geneste items
				//controleren of er een addFirstChild knop is
				//zo niet, toon dan addFirstChild knop
				//zo ja, doe niets
				if ($detailDiv.is(':visible') && ($detailDiv.children('ul.tree').length == 0)) {
					//is er al een addFirstChild knop ?
					//zo niet, maak er een
					//zo ja doe niets
					var $tb = $li.find('.tbEdit').first();
					if ($tb.children('.addFirstChild').length == 0) {
						//Maak een knop
						$('<button class="addFirstChild btn btn-default" title="Voeg genest element toe"><i class="fa fa-plus"></i></button>').appendTo($tb);
					}
				}
				$li.children('a').children('i').toggleClass('fa-rotate-90');
			//editDetails (met chrome hack)
			//klikken op <i> gedeelte in button is apart van rest knop
			//dit itt andere browsers
			} else if ($el.hasClass('editDetails') || $el.parent().hasClass('editDetails')) {
				$el = $el.closest('.editDetails');
				//Verhinder bewerken van dit level als isDirty
				if (isDirty) {
					bootbox.alert('Er zijn wijzigingen in een ander item die nog niet zijn opgeslagen.<br/>U moet deze wijzingen eerst opslaan of annuleren voordat u een ander item kunt wijzigen.', function() {
						//Scroll gewijzigde item in beeld
						// hiliteTree($changedItem);
						scrollIntoView($changedItem);
					});
					return;
				}
				//reset evt vorige item.
				//functie test op undefined van $changedItem
				resetItemToNonEditState($changedItem);
				var $li = $el.closest('li');
				var $forms = $li.children('.detailDiv').children('.form-readonly').addClass('edit');
				$forms.find('input[readonly]').removeAttr('readonly');
				$li.children('a').children('input[readonly]').removeAttr('readonly');
				$el.hide();
				$el.siblings().toggle();
				$li.find('.tbAddData').first().show();

				//Om naar terug te scrollen als je een ander item wilt wijzigen, terwijl deze al is gewijzigd.
				$changedItem = $li;
			//saveDetails (met chrome hack)
			} else if ($el.hasClass('saveDetails') || $el.parent().hasClass('saveDetails')) {
				$el = $el.closest('.saveDetails');
				toastr['info']('OPGESLAGEN!');
				resetItemToNonEditState($el.closest('li'));
				isDirty = false;
			//escapeDetails (met chrome hack)
			} else if ($el.hasClass('escapeDetails') || $el.parent().hasClass('escapeDetails')) {
				$el = $el.closest('.escapeDetails');
				toastr['info']('GEANNULEERD!');
				resetItemToNonEditState($el.closest('li'));
				isDirty = false;
			//deleteDetails (met chrome hack)
			} else if ($el.hasClass('deleteDetails') || $el.parent().hasClass('deleteDetails')) {
				$el = $el.closest('.deleteDetails');
				confirm("Weet u zeker dat u dit element wilt verwijderen?<br/>Alle geneste elementen zullen ook worden verwijderd!!!", function(result) {
					if (result) {
						$el.closest('li').remove();
						toastr['info']('VERWIJDERD!');
						isDirty = false;
					}
				});
			//deleteData
			} else if ($el.hasClass('deleteData')) {
				$el.closest('.form-group').remove();
				isDirty = true;
			//addData (met chrome hack)
			} else if ($el.hasClass('addData') || $el.parent().hasClass('addData')) {
				$el = $el.closest('.addData');
				var $frm = $el.closest('.tbAddData').prev('.form-horizontal');
				$('<div class="form-group form-group-sm">' +
				'<div class="col-sm-3">' +
				'<input class="form-control edit-label" type="text">' +
				'</div>' +
				'<div class="col-sm-9">' +
				'<div class="input-group ">' +
				'<input class="form-control" type="text">' +
				'<a class="deleteData input-group-addon" href="javascript:;"><i class="deleteData fa fa-minus fa-fw"></i></a>' +
				'</div>' +
				'</div>' +
				'</div>').appendTo($frm);
				//Altijd vlag zetten
				isDirty = true;
			//addFirstChild (met chrome hack)
			} else if ($el.hasClass('addFirstChild') || $el.parent().hasClass('addFirstChild')) {
				$el = $el.closest('.addFirstChild');
				toastr['info']('Nieuw child element');
				//isDirty-vlag????????
			} else if ($el.hasClass('addSibling')) {
				toastr['info']('Nieuw sibling element');
				//isDirty-vlag????????
			}
		});

		$('#treeDiv').on('change', function(event) {
			//Voorlopig geen onderscheid in welk type input is gewijzigd
			if (!isDirty) {
				console.log($(event.target).parents('li').first());
				var $li = $(event.target).parents('li').first();
				hiliteTree($li);
			}
			isDirty = true;
		});

	});

})();

//]]>
</script>

	</body>
</html>
